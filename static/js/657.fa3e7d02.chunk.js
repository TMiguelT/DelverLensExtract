!function(){"use strict";var e=require("/home/migwell/Programming/delver_lens_extract/node_modules/@babel/runtime/helpers/toConsumableArray.js").default,r=require("/home/migwell/Programming/delver_lens_extract/node_modules/@babel/runtime/helpers/slicedToArray.js").default,n=require("/home/migwell/Programming/delver_lens_extract/node_modules/@babel/runtime/helpers/createClass.js").default,t=require("/home/migwell/Programming/delver_lens_extract/node_modules/@babel/runtime/helpers/classCallCheck.js").default,a=require("/home/migwell/Programming/delver_lens_extract/node_modules/@babel/runtime/helpers/inherits.js").default,s=require("/home/migwell/Programming/delver_lens_extract/node_modules/@babel/runtime/helpers/createSuper.js").default,c=require("/home/migwell/Programming/delver_lens_extract/node_modules/@babel/runtime/helpers/wrapNativeSuper.js").default,i=require("/home/migwell/Programming/delver_lens_extract/node_modules/@babel/runtime/helpers/regeneratorRuntime.js").default,o=require("/home/migwell/Programming/delver_lens_extract/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js").default,u=require("/home/migwell/Programming/delver_lens_extract/node_modules/@babel/runtime/helpers/asyncToGenerator.js").default,l=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),t=1;t<r;t++)n[t-1]=arguments[t];return postMessage({type:e,payload:n})};self.SharedArrayBuffer?self.Atomics?self.FileSystemHandle&&self.FileSystemDirectoryHandle&&self.FileSystemFileHandle&&self.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator.storage.getDirectory?function(f){var p=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];throw new Error(r.join(" "))};f.window===f?p("This code cannot run from the main thread.","Load it as a Worker from a separate Worker."):navigator.storage.getDirectory||p("This API requires navigator.storage.getDirectory.");var d=Object.create(null);d.verbose=1;var v={0:console.error.bind(console),1:console.warn.bind(console),2:console.log.bind(console)},x=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),t=1;t<r;t++)n[t-1]=arguments[t];d.verbose>e&&v[e].apply(v,["OPFS asyncer:"].concat(n))},m=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return x.apply(void 0,[2].concat(r))},b=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return x.apply(void 0,[1].concat(r))},h=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return x.apply(void 0,[0].concat(r))},w=Object.create(null);w.reset=function(){var e,r;for(e in d.opIds)(r=w[e]=Object.create(null)).count=r.time=r.wait=0;var n=w.s11n=Object.create(null);(n=n.serialize=Object.create(null)).count=n.time=0,(n=w.s11n.deserialize=Object.create(null)).count=n.time=0},w.dump=function(){var e,r=0,n=0,t=0;for(e in d.opIds){var a=w[e];r+=a.count,n+=a.time,t+=a.wait,a.avgTime=a.count&&a.time?a.time/a.count:0}console.log(f.location.href,"metrics for",f.location.href,":\n",w,"\nTotal of",r,"op(s) for",n,"ms","approx",t,"ms spent waiting on OPFS APIs."),console.log("Serialization metrics:",w.s11n)};var y=Object.create(null),g=new Set,k=function(e,r){var n=new URL(e,"file://irrelevant").pathname;return r?n.split("/").filter((function(e){return!!e})):n},O=function(){var e=u(i().mark((function e(r){var n,t,a,s,c,u,l,f=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=f.length>1&&void 0!==f[1]&&f[1],t=k(r,!0),a=t.pop(),s=d.rootDir,c=o(t),e.prev=5,c.s();case 7:if((u=c.n()).done){e.next=15;break}if(!(l=u.value)){e.next=13;break}return e.next=12,s.getDirectoryHandle(l,{create:!!n});case 12:s=e.sent;case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),c.e(e.t0);case 20:return e.prev=20,c.f(),e.finish(20);case 23:return e.abrupt("return",[s,a]);case 24:case"end":return e.stop()}}),e,null,[[5,17,20,23]])})));return function(r){return e.apply(this,arguments)}}(),E=function(){var e=u(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.syncHandle){e.next=7;break}return m("Closing sync handle for",r.filenameAbs),n=r.syncHandle,delete r.syncHandle,delete r.xLock,g.delete(r.fid),e.abrupt("return",n.close());case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),I=function(){var e=u(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(r);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),b("closeSyncHandleNoThrow() ignoring:",e.t0,r);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(r){return e.apply(this,arguments)}}(),S=function(){var e=u(i().mark((function e(){var r,n,t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.size){e.next=20;break}r=o(g),e.prev=2,r.s();case 4:if((n=r.n()).done){e.next=12;break}return t=n.value,a=y[t],e.next=9,I(a);case 9:m("Auto-unlocked",t,a.filenameAbs);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=u(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.releaseImplicitLocks||!g.has(r.fid)){e.next=2;break}return e.abrupt("return",I(r));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),A=function(e){a(c,e);var r=s(c);function c(e){var n;t(this,c);for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return(n=r.call(this,[].concat(s,[": "+e.name+":",e.message]).join(" "),{cause:e})).name="GetSyncHandleError",n}return n(c)}(c(Error));A.convertRc=function(e,r){return e instanceof A&&("NoModificationAllowedError"===e.cause.name||"DOMException"===e.cause.name&&0===e.cause.message.indexOf("Access Handles cannot"))?d.sq3Codes.SQLITE_BUSY:r};var T=function(){var e=u(i().mark((function e(r,n){var t,a,s,c,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.syncHandle){e.next=24;break}t=performance.now(),m("Acquiring sync handle for",r.filenameAbs),a=6,s=2*d.asyncIdleWaitTime,c=1,o=s;case 5:return e.prev=6,e.next=9,r.fileHandle.createSyncAccessHandle();case 9:return r.syncHandle=e.sent,e.abrupt("break",22);case 13:if(e.prev=13,e.t0=e.catch(6),c!==a){e.next=17;break}throw new A(e.t0,"Error getting sync handle for",n+"().",a,"attempts failed.",r.filenameAbs);case 17:b("Error getting sync handle for",n+"(). Waiting",o,"ms and trying again.",r.filenameAbs,e.t0),Atomics.wait(d.sabOPView,d.opIds.retry,0,o);case 19:o=s*++c,e.next=5;break;case 22:m("Got",n+"() sync handle for",r.filenameAbs,"in",performance.now()-t,"ms"),r.xLock||(g.add(r.fid),m("Acquired implicit lock for",n+"()",r.fid,r.filenameAbs));case 24:return e.abrupt("return",r.syncHandle);case 25:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(r,n){return e.apply(this,arguments)}}(),R=function(e,r){m(e+"() => notify(",r,")"),Atomics.store(d.sabOPView,d.opIds.rc,r),Atomics.notify(d.sabOPView,d.opIds.rc)},L=function(e,r){r.readOnly&&p(e+"(): File is read-only: "+r.filenameAbs)},C=Object.create(null);C.op=void 0,C.start=void 0;var P=function(e){C.start=performance.now(),C.op=e,++w[e].count},q=function(){return w[C.op].time+=performance.now()-C.start},j=Object.create(null);j.op=void 0,j.start=void 0;var z=function(e){j.start=performance.now(),j.op=e},F=function(){return w[j.op].wait+=performance.now()-j.start},H=!1,D={"opfs-async-metrics":function(){var e=u(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P("opfs-async-metrics"),w.dump(),R("opfs-async-metrics",0),q();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),"opfs-async-shutdown":function(){var e=u(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H=!0,R("opfs-async-shutdown",0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mkdir:function(){var e=u(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P("mkdir"),n=0,z("mkdir"),e.prev=3,e.next=6,O(r+"/filepart",!0);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),d.s11n.storeException(2,e.t0),n=d.sq3Codes.SQLITE_IOERR;case 12:return e.prev=12,F(),e.finish(12);case 15:R("mkdir",n),q();case 17:case"end":return e.stop()}}),e,null,[[3,8,12,15]])})));return function(r){return e.apply(this,arguments)}}(),xAccess:function(){var e=u(i().mark((function e(n){var t,a,s,c,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P("xAccess"),t=0,z("xAccess"),e.prev=3,e.next=6,O(n);case 6:return a=e.sent,s=r(a,2),c=s[0],o=s[1],e.next=12,c.getFileHandle(o);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),d.s11n.storeException(2,e.t0),t=d.sq3Codes.SQLITE_IOERR;case 18:return e.prev=18,F(),e.finish(18);case 21:R("xAccess",t),q();case 23:case"end":return e.stop()}}),e,null,[[3,14,18,21]])})));return function(r){return e.apply(this,arguments)}}(),xClose:function(){var e=u(i().mark((function e(r){var n,t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P(n="xClose"),g.delete(r),t=y[r],a=0,z(n),!t){e.next=21;break}return delete y[r],e.next=10,E(t);case 10:if(!t.deleteOnClose){e.next=19;break}return e.prev=11,e.next=14,t.dirHandle.removeEntry(t.filenamePart);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),b("Ignoring dirHandle.removeEntry() failure of",t,e.t0);case 19:e.next=23;break;case 21:d.s11n.serialize(),a=d.sq3Codes.SQLITE_NOTFOUND;case 23:F(),R(n,a),q();case 26:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(r){return e.apply(this,arguments)}}(),xDelete:function(){var e=u(i().mark((function e(){var r,n=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P("xDelete"),e.next=3,D.xDeleteNoWait.apply(D,n);case 3:r=e.sent,R("xDelete",r),q();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xDeleteNoWait:function(){var e=u(i().mark((function e(n){var t,a,s,c,o,u,l,f=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=f.length>1&&void 0!==f[1]?f[1]:0,a=f.length>2&&void 0!==f[2]&&f[2],s=0,z("xDelete"),e.prev=4;case 5:if(!n){e.next=24;break}return e.next=8,O(n,!1);case 8:if(c=e.sent,o=r(c,2),u=o[0],l=o[1]){e.next=14;break}return e.abrupt("break",24);case 14:return e.next=16,u.removeEntry(l,{recursive:a});case 16:if(4660===t){e.next=18;break}return e.abrupt("break",24);case 18:a=!1,(n=k(n,!0)).pop(),n=n.join("/"),e.next=5;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(4),d.s11n.storeException(2,e.t0),s=d.sq3Codes.SQLITE_IOERR_DELETE;case 30:return F(),e.abrupt("return",s);case 32:case"end":return e.stop()}}),e,null,[[4,26]])})));return function(r){return e.apply(this,arguments)}}(),xFileSize:function(){var e=u(i().mark((function e(r){var n,t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P("xFileSize"),n=y[r],t=0,z("xFileSize"),e.prev=4,e.next=7,T(n,"xFileSize");case 7:return e.next=9,e.sent.getSize();case 9:a=e.sent,d.s11n.serialize(Number(a)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),d.s11n.storeException(1,e.t0),t=A.convertRc(e.t0,d.sq3Codes.SQLITE_IOERR);case 17:return e.next=19,_(n);case 19:F(),R("xFileSize",t),q();case 22:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(r){return e.apply(this,arguments)}}(),xLock:function(){var e=u(i().mark((function e(r,n){var t,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P("xLock"),t=y[r],a=0,s=t.xLock,t.xLock=n,t.syncHandle){e.next=19;break}return z("xLock"),e.prev=7,e.next=10,T(t,"xLock");case 10:g.delete(r),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(7),d.s11n.storeException(1,e.t0),a=A.convertRc(e.t0,d.sq3Codes.SQLITE_IOERR_LOCK),t.xLock=s;case 18:F();case 19:R("xLock",a),q();case 21:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(r,n){return e.apply(this,arguments)}}(),xOpen:function(){var e=u(i().mark((function e(n,t,a,s){var c,o,u,l,f,p,v,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(c="xOpen"),o=d.sq3Codes.SQLITE_OPEN_CREATE&a,z("xOpen"),e.prev=4,e.prev=5,e.next=8,O(t,!!o);case 8:f=e.sent,p=r(f,2),u=p[0],l=p[1],e.next=21;break;case 14:return e.prev=14,e.t0=e.catch(5),d.s11n.storeException(1,e.t0),R(c,d.sq3Codes.SQLITE_NOTFOUND),q(),F(),e.abrupt("return");case 21:return e.next=23,u.getFileHandle(l,{create:o});case 23:v=e.sent,F(),(x=Object.assign(Object.create(null),{fid:n,filenameAbs:t,filenamePart:l,dirHandle:u,fileHandle:v,sabView:d.sabFileBufView,readOnly:!o&&d.sq3Codes.SQLITE_OPEN_READONLY&a,deleteOnClose:!!(d.sq3Codes.SQLITE_OPEN_DELETEONCLOSE&a)})).releaseImplicitLocks=s&d.opfsFlags.OPFS_UNLOCK_ASAP||d.opfsFlags.defaultUnlockAsap,e.next=31;break;case 31:y[n]=x,R(c,0),e.next=41;break;case 35:e.prev=35,e.t1=e.catch(4),F(),h(c,e.t1),d.s11n.storeException(1,e.t1),R(c,d.sq3Codes.SQLITE_IOERR);case 41:q();case 42:case"end":return e.stop()}}),e,null,[[4,35],[5,14]])})));return function(r,n,t,a){return e.apply(this,arguments)}}(),xRead:function(){var e=u(i().mark((function e(r,n,t){var a,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P("xRead"),a=0,c=y[r],e.prev=3,z("xRead"),e.next=7,T(c,"xRead");case 7:s=e.sent.read(c.sabView.subarray(0,n),{at:Number(t)}),F(),s<n&&(c.sabView.fill(0,s,n),a=d.sq3Codes.SQLITE_IOERR_SHORT_READ),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(3),void 0===s&&F(),h("xRead() failed",e.t0,c),d.s11n.storeException(1,e.t0),a=A.convertRc(e.t0,d.sq3Codes.SQLITE_IOERR_READ);case 18:return e.next=20,_(c);case 20:R("xRead",a),q();case 22:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(r,n,t){return e.apply(this,arguments)}}(),xSync:function(){var e=u(i().mark((function e(r,n){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P("xSync"),t=y[r],a=0,t.readOnly||!t.syncHandle){e.next=15;break}return e.prev=4,z("xSync"),e.next=8,t.syncHandle.flush();case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),d.s11n.storeException(2,e.t0),a=d.sq3Codes.SQLITE_IOERR_FSYNC;case 14:F();case 15:R("xSync",a),q();case 17:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(r,n){return e.apply(this,arguments)}}(),xTruncate:function(){var e=u(i().mark((function e(r,n){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P("xTruncate"),t=0,a=y[r],z("xTruncate"),e.prev=4,L("xTruncate",a),e.next=8,T(a,"xTruncate");case 8:return e.next=10,e.sent.truncate(n);case 10:e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),h("xTruncate():",e.t0,a),d.s11n.storeException(2,e.t0),t=A.convertRc(e.t0,d.sq3Codes.SQLITE_IOERR_TRUNCATE);case 17:return e.next=19,_(a);case 19:F(),R("xTruncate",t),q();case 22:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(r,n){return e.apply(this,arguments)}}(),xUnlock:function(){var e=u(i().mark((function e(r,n){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P("xUnlock"),t=0,a=y[r],d.sq3Codes.SQLITE_LOCK_NONE!==n||!a.syncHandle){e.next=15;break}return z("xUnlock"),e.prev=5,e.next=8,E(a);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),d.s11n.storeException(1,e.t0),t=d.sq3Codes.SQLITE_IOERR_UNLOCK;case 14:F();case 15:R("xUnlock",t),q();case 17:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(r,n){return e.apply(this,arguments)}}(),xWrite:function(){var e=u(i().mark((function e(r,n,t){var a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P("xWrite"),s=y[r],z("xWrite"),e.prev=3,L("xWrite",s),e.t0=n,e.next=8,T(s,"xWrite");case 8:if(e.t1=e.sent.write(s.sabView.subarray(0,n),{at:Number(t)}),e.t0!==e.t1){e.next=13;break}e.t2=0,e.next=14;break;case 13:e.t2=d.sq3Codes.SQLITE_IOERR_WRITE;case 14:a=e.t2,e.next=22;break;case 17:e.prev=17,e.t3=e.catch(3),h("xWrite():",e.t3,s),d.s11n.storeException(1,e.t3),a=A.convertRc(e.t3,d.sq3Codes.SQLITE_IOERR_WRITE);case 22:return e.next=24,_(s);case 24:F(),R("xWrite",a),q();case 27:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(r,n,t){return e.apply(this,arguments)}}()},N=function(){var r=u(i().mark((function r(){var n,t,a,s,c,o,u,l,f,v;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=Object.create(null),t=0,a=Object.keys(d.opIds);case 2:if(!(t<a.length)){r.next=14;break}if(s=a[t],c=D[s]){r.next=7;break}return r.abrupt("continue",11);case 7:o=Object.create(null),n[d.opIds[s]]=o,o.key=s,o.f=c;case 11:t++,r.next=2;break;case 14:if(H){r.next=37;break}if(r.prev=15,"timed-out"!==Atomics.wait(d.sabOPView,d.opIds.whichOp,0,d.asyncIdleWaitTime)){r.next=20;break}return r.next=19,S();case 19:return r.abrupt("continue",14);case 20:if(l=Atomics.load(d.sabOPView,d.opIds.whichOp),Atomics.store(d.sabOPView,d.opIds.whichOp,0),f=null!==(u=n[l])&&void 0!==u?u:p("No waitLoop handler for whichOp #",l),v=d.s11n.deserialize(!0)||[],!f.f){r.next=29;break}return r.next=27,f.f.apply(f,e(v));case 27:r.next=30;break;case 29:h("Missing callback for opId",l);case 30:r.next=35;break;case 32:r.prev=32,r.t0=r.catch(15),h("in waitLoop():",r.t0);case 35:r.next=14;break;case 37:case"end":return r.stop()}}),r,null,[[15,32]])})));return function(){return r.apply(this,arguments)}}();navigator.storage.getDirectory().then((function(e){d.rootDir=e,f.onmessage=function(e){var r=e.data;switch(r.type){case"opfs-async-init":var n,t=r.args;for(var a in t)d[a]=t[a];d.verbose=null!==(n=t.verbose)&&void 0!==n?n:1,d.sabOPView=new Int32Array(d.sabOP),d.sabFileBufView=new Uint8Array(d.sabIO,0,d.fileBufferSize),d.sabS11nView=new Uint8Array(d.sabIO,d.sabS11nOffset,d.sabS11nSize),Object.keys(D).forEach((function(e){Number.isFinite(d.opIds[e])||p("Maintenance required: missing state.opIds[",e,"]")})),function(){if(d.s11n)return d.s11n;var e=new TextDecoder,r=new TextEncoder("utf-8"),n=new Uint8Array(d.sabIO,d.sabS11nOffset,d.sabS11nSize),t=new DataView(d.sabIO,d.sabS11nOffset,d.sabS11nSize);d.s11n=Object.create(null);var a=Object.create(null);a.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},a.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},a.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},a.string={id:4};var s=function(e){switch(e){case a.number.id:return a.number;case a.bigint.id:return a.bigint;case a.boolean.id:return a.boolean;case a.string.id:return a.string;default:p("Invalid type ID:",e)}};d.s11n.deserialize=function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];++w.s11n.deserialize.count;var a=performance.now(),c=n[0],i=c?[]:null;if(c){var o,u,l,f=[],p=1;for(o=0;o<c;++o,++p)f.push(s(n[p]));for(o=0;o<c;++o){var v=f[o];v.getter?(l=t[v.getter](p,d.littleEndian),p+=v.size):(u=t.getInt32(p,d.littleEndian),p+=4,l=e.decode(n.slice(p,p+u)),p+=u),i.push(l)}}return r&&(n[0]=0),w.s11n.deserialize.time+=performance.now()-a,i},d.s11n.serialize=function(){var e,s=performance.now();++w.s11n.serialize.count;for(var c=arguments.length,i=new Array(c),o=0;o<c;o++)i[o]=arguments[o];if(i.length){var u=[],l=0,f=1;for(n[0]=255&i.length;l<i.length;++l,++f)u.push((e=i[l],a[typeof e]||p("Maintenance required: this value type cannot be serialized.",e))),n[f]=u[l].id;for(l=0;l<i.length;++l){var v=u[l];if(v.setter)t[v.setter](f,i[l],d.littleEndian),f+=v.size;else{var x=r.encode(i[l]);t.setInt32(f,x.byteLength,d.littleEndian),f+=4,n.set(x,f),f+=x.byteLength}}}else n[0]=0;w.s11n.serialize.time+=performance.now()-s},d.s11n.storeException=d.asyncS11nExceptions?function(e,r){e<=d.asyncS11nExceptions&&d.s11n.serialize([r.name,": ",r.message].join(""))}:function(){},d.s11n}(),w.reset(),m("init state",d),l("opfs-async-inited"),N();break;case"opfs-async-restart":H&&(b("Restarting after opfs-async-shutdown. Might or might not work."),H=!1,N());break;case"opfs-async-metrics":w.dump()}},l("opfs-async-loaded")})).catch((function(e){return h("error initializing OPFS asyncer:",e)}))}(self):l("opfs-unavailable","Missing required OPFS APIs."):l("opfs-unavailable","Missing Atomics API.","The server must emit the COOP/COEP response headers to enable that."):l("opfs-unavailable","Missing SharedArrayBuffer API.","The server must emit the COOP/COEP response headers to enable that.")}();
//# sourceMappingURL=657.fa3e7d02.chunk.js.map